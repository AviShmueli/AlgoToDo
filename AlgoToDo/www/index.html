<!DOCTYPE html>
<html ng-app="TaskManeger">
<head>
    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://localhost:5001">-->

    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

    <link href="scripts/lib/angular-material.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <title>AlgoToDo</title>
</head>
<body layout="row" ng-controller="TaskManegerCtrl as vm" ng-cloak>
    
    <!--<div layout-fill>
        <span ng-include="'scripts/layout/layout.html'"></span>
    </div>
    <span layout="column " ng-include="'scripts/layout/sideNav.html'"></span>-->


    <div layout="column" layout-fill role="main" class="relative">
        <span ng-if="vm.userConnected">
            <md-button class="md-fab md-fab-bottom-left" aria-label="Add" ng-click="vm.showAdd($event)">
                <ng-md-icon icon="add"></ng-md-icon>
            </md-button>
            <md-toolbar ng-show="!vm.showSearch">
                <div class="md-toolbar-tools">
                    <md-button aria-label="Open Settings" ng-click="vm.showListBottomSheet($event)">
                        <ng-md-icon icon="more_vert"></ng-md-icon>
                    </md-button>
                    <md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch">
                        <ng-md-icon icon="search"></ng-md-icon>
                    </md-button>
                    <span flex></span>
                    <h3>
                        משימות עובדים
                    </h3>
                    <span flex="10"></span>
                    <md-button ng-click="vm.toggleSidenav('left')" hide-gt-md aria-label="Menu">
                        <ng-md-icon icon="menu"></ng-md-icon>
                    </md-button>
                </div>
                <md-tabs md-stretch-tabs class="md-primary" md-selected="data.selectedIndex">
                    <md-tab id="tab1" aria-controls="tab1-content">
                        לא בוצעו
                    </md-tab>
                    <md-tab id="tab2" arBia-controls="tab2-content">
                        בוצעו
                    </md-tab>
                </md-tabs>
            </md-toolbar>
            <md-toolbar class="md-hue-1" ng-show="vm.showSearch">
                <div class="md-toolbar-tools">
                    <md-button ng-click="vm.showSearch = !vm.showSearch" aria-label="Back">
                        <ng-md-icon icon="arrow_back"></ng-md-icon>
                    </md-button>
                    <h3 flex="10">
                        חזור
                    </h3>
                    <md-input-container dir="rtl" md-theme="input" flex>
                        <label>&nbsp;</label>
                        <input ng-model="vm.search" placeholder="חפש..." md-autofocus>
                    </md-input-container>
                    <md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch">
                        <ng-md-icon icon="search"></ng-md-icon>
                    </md-button>
                    <md-button aria-label="Open Settings" ng-click="vm.showListBottomSheet($event)">
                        <ng-md-icon icon="more_vert"></ng-md-icon>
                    </md-button>
                </div>
            </md-toolbar>

            <md-content flex md-scroll-y>
                <ui-view layout="column" layout-fill layout-padding>
                    <div class="inset" hide-sm></div>
                    <ng-switch on="data.selectedIndex" class="tabpanel-container">
                        <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()" layout="row" layout-align="center center">
                            <md-card flex-gt-sm="90" flex-gt-md="80">
                                <md-card-content dir="rtl">
                                    <h2>משימות שלא בוצעו</h2>
                                    <md-list>
                                        <md-item ng-repeat="item in vm.onGoingActivityies track by $index | filter:vm.search">
                                            <md-item-content>
                                                <div class="md-tile-left inset" hide-sm>
                                                    <user-avatar></user-avatar>
                                                </div>
                                                <div class="md-tile-content">
                                                    <h3>{{item.name}}</h3>
                                                    <h4>{{item.employee}}</h4>
                                                    <p>
                                                        {{item.description}}
                                                    </p>
                                                </div>
                                            </md-item-content>
                                            <md-divider md-inset hide-sm ng-if="!$last"></md-divider>
                                            <md-divider hide-gt-sm ng-if="!$last"></md-divider>
                                        </md-item>
                                        <!--<md-divider></md-divider>
                                    <md-item layout class="inset">
                                        <md-button layout layout-align="start center" flex class="md-primary">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                            <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg> עוד
                                        </md-button>
                                    </md-item>-->
                                    </md-list>
                                </md-card-content>
                            </md-card>
                        </div>
                        <div role="tabpanel" id="tab2-content" aria-labelledby="tab2" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()" layout="row" layout-align="center center">
                            <md-card flex-gt-sm="90" flex-gt-md="80">
                                <md-card-content dir="rtl">
                                    <h2>משימות שבוצעו</h2>
                                    <md-list>
                                        <md-item ng-repeat="item in vm.doneActivities track by $index | filter:vm.search">
                                            <md-item-content>
                                                <div class="md-tile-left inset" hide-sm>
                                                    <user-avatar></user-avatar>
                                                </div>
                                                <div class="md-tile-content">
                                                    <h3>{{item.name}}</h3>
                                                    <h4>{{item.employee}}</h4>
                                                    <p>
                                                        {{item.description}}
                                                    </p>
                                                </div>
                                            </md-item-content>
                                            <md-divider md-inset hide-sm ng-if="!$last"></md-divider>
                                            <md-divider hide-gt-sm ng-if="!$last"></md-divider>
                                        </md-item>
                                        <!--<md-divider></md-divider>
                                    <md-item layout class="inset">
                                        <md-button layout layout-align="start center" flex class="md-primary">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                            <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg> עוד
                                        </md-button>
                                    </md-item>-->
                                    </md-list>
                                </md-card-content>
                            </md-card>
                        </div>

                    </ng-switch>

                </ui-view>
            </md-content>
        </span>
        <md-content flex md-scroll-y ng-if="!vm.userConnected">
            <div layout="row" layout-align="center center">
                <div class="login">
                    <h1>התחברות למערכת</h1>
                    <h3>נא להכניס שם משתמש וסיסמא</h3>
                    <form name="clientLogin" dir="rtl">
                        <md-input-container flex>
                            <!--<ng-md-icon icon=" person " class="name "></ng-md-icon>-->
                            <label>שם משתמש</label>
                            <input ng-model="vm.userlogin.name " name="userName " type="text " placeholder="שם משתמש " ng-required="false ">
                            <!--<div ng-messages="clientLogin.userName.$error ">
                                <div ng-message="required ">שם משתמש הוא שדה חובה</div>
                            </div>-->
                        </md-input-container>
                        <md-input-container flex>
                            <!-- Use floating placeholder instead of label -->
                            <!--<ng-md-icon icon="email " class="email "></ng-md-icon>-->
                            <label>סיסמא</label>
                            <input ng-model="vm.userlogin.password " type="text " placeholder="סיסמא " ng-required="false " name="userPassword ">
                            <!--<div ng-messages="clientLogin.userPassword.$error ">
                                <div ng-message="required ">סיסמא זה שדה חובה</div>
                            </div>-->
                        </md-input-container>

                        <md-button class="md-raised md-primary " ng-click="vm.login()">היכנס</md-button>
                    </form>
                </div>
            </div>
        </md-content>

    </div>
    <md-sidenav class="md-sidenav-right md-whiteframe-z2 " md-component-id="left " md-is-locked-open="$mdMedia( 'gt-md') ">
        <md-toolbar class="md-tall md-hue-2 ">
            <span flex></span>
            <div layout="column" layout-align="end center" class="md-toolbar-tools-bottom inset ">
                <user-avatar></user-avatar>
                <span></span>
                <div>{{vm.userName}}</div>
                <div>מנהל סניף רמת החייל</div>
            </div>
        </md-toolbar>
        <md-list>
            <!--<md-subheader>
                <span flex></span>
                <span>התחברות</span>
            </md-subheader>
            <md-item>
                <md-item-content md-ink-ripple layout="row " layout-align="start center ">
                    <md-button aria-label="Search " ng-click="vm.login() ">
                        <ng-md-icon icon="login "></ng-md-icon>
                        <md-tooltip md-direction="right ">התחבר</md-tooltip>
                    </md-button>
                    <md-input-container flex dir="rtl">
                        <label>שם משתמש</label>
                        <input ng-model="vm.userName ">
                    </md-input-container>
                </md-item-content>
            </md-item>-->
            <md-item ng-repeat="item in vm.menu ">
                <a>
                    <md-item-content md-ink-ripple layout="row " layout-align="start center ">
                        <div class="inset ">
                            <ng-md-icon icon="{{item.icon}} "></ng-md-icon>
                        </div>
                        <span flex></span>
                        <div class="inset ">
                            {{item.title}}
                        </div>
                    </md-item-content>
                </a>
            </md-item>
            <md-divider></md-divider>
            <md-subheader>
                <span flex></span>
                <span>ניהול</span>
            </md-subheader>
            <md-item ng-repeat="item in vm.admin ">
                <a>
                    <md-item-content md-ink-ripple layout="row " layout-align="start center ">
                        <div class="inset ">
                            <ng-md-icon icon="{{item.icon}} "></ng-md-icon>
                        </div>
                        <span flex></span>
                        <div class="inset ">
                            {{item.title}}
                        </div>
                    </md-item-content>
                </a>
            </md-item>
            <md-divider></md-divider>
        </md-list>
    </md-sidenav>

    

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="scripts/platformOverrides.js"></script>
    <script type="text/javascript" src="scripts/index.js"></script>

    <script src="scripts/lib/angular.min.js"></script>
    <script src="scripts/lib/angular-animate.min.js"></script>
    <script src="scripts/lib/angular-aria.min.js"></script>
    <script src="scripts/lib/angular-material.min.js"></script>
    <script src="scripts/lib/angular-material-icons.min.js"></script>
    <script src="scripts/lib/ng-lodash.min.js"></script>
    <script src="scripts/lib/ngStorage.min.js"></script>
    <script src="scripts/lib/angular-cookies.js"></script>

    <script src="http://localhost:5001/socket.io/socket.io.js "></script>

    <script src="scripts/TaskManeger/TaskManeger.module.js "></script>
    <script src="scripts/core/core.module.js "></script>
    <script src="scripts/widgets/widgets-module.js "></script>
    <script src="scripts/data/data.module.js "></script>
    <script src="scripts/logger/logger.module.js "></script>
    <script src="scripts/logger/logger.js "></script>
    <script src="scripts/data/datacontext.js "></script>
    <script src="scripts/data/socket.js "></script>
    <script src="scripts/core/config.js "></script>
    <script src="scripts/widgets/AddTaskDialog.js "></script>
    <script src="scripts/widgets/ListBottomSheet.js "></script>
    <script src="scripts/widgets/userAvater.js "></script>
    <script src="scripts/TaskManeger/TaskManeger.js "></script>
</body>
</html>
