<md-dialog aria-label="Mango (Fruit)" dir="rtl" layout="column" ng-class="{'fullscreen-dialog': vm.isSmallScrean}">
    <md-toolbar>
        <div class="md-toolbar-tools">                          
            <md-button class="md-icon-button" ng-click="vm.cancel()">
                <ng-md-icon icon="arrow_forward" aria-label="Close dialog"></ng-md-icon>
            </md-button>           
            <h3 style="color:white">משימה חדשה</h3>
            <span flex></span>
            <md-button class="md-icon-button" type="submit" ng-click="vm.save()" ng-disabled="newTaskForm.$invalid">
                <ng-md-icon class="rotate" icon="send" aria-label="send"></ng-md-icon> 
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content flex md-scroll-y class="md-padding" layout-margin>
        <form name="newTaskForm" novalidate>
            <div layout layout-sm="column">
                <md-autocomplete md-autofocus flex required md-require-match
                                 md-input-name="autocompleteField"
                                 placeholder="נמען"
                                 md-min-length="1"
                                 md-no-cache="false"
                                 md-selected-item="vm.selectedItem"
                                 md-search-text="vm.searchText"
                                 md-items="user in vm.querySearch(vm.searchText)"
                                 md-item-text="user.fullName"
                                 md-floating-label="נמען"
                                 md-no-asterisk="true">
                    <md-item-template style="text-align: right">
                        <span md-highlight-text="vm.searchText">{{user.fullName}}</span>
                    </md-item-template>
                    <md-not-found>
                        הנמען שחיפשת לא קיים
                    </md-not-found>
                    <div ng-messages="newTaskForm.autocompleteField.$error" ng-if="newTaskForm.autocompleteField.$touched">
                        <div ng-message="required">נמען הוא שדה <b>חובה</b></div>
                        <div ng-message="md-require-match">נא לבחור נמען מתוך הרשימה</div>
                    </div>
                </md-autocomplete>
            </div>
            <div layout layout-sm="column">
                <md-input-container flex class="md-block">
                    <label>תיאור המשימה</label>
                    <textarea class="texterea-font-size" name="description" ng-model="vm.task.description" md-maxlength="150" rows="1" max-rows="4" required md-no-asterisk="true"></textarea>
                    <div ng-messages="newTaskForm.description.$error" ng-if="newTaskForm.description.$touched">
                        <div ng-message="required">נא להכניס תיאור למשימה</div>
                    </div>
                </md-input-container>
            </div>
            <!-- https://github.com/logbon72/angular-material-datetimepicker -->      
        </form>
    </md-dialog-content>
    
</md-dialog>